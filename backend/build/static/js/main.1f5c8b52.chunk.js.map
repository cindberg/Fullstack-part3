{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notfication.js","App.js","index.js"],"names":["Persons","_ref","personsToShow","personsToDelete","console","log","react_default","a","createElement","map","person","key","name","number","onClick","PersonForm","addPerson","handleAddName","handleAddNumber","newName","newNumber","onSubmit","value","onChange","type","Filter","handleFilter","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","error","setError","_useState11","_useState12","notification","setNotification","useEffect","personService","initialPersons","filter","toLowerCase","includes","components_Filter","event","target","Notfication","components_PersonForm","preventDefault","personObject","window","confirm","user","find","changedUser","objectSpread","returnedUser","setTimeout","components_Persons","personToDelete","catch","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.1f5c8b52.chunk.js","sourcesContent":["\nimport React from 'react'\n\n\nconst Persons = ({ personsToShow, personsToDelete }) => {\n    console.log(personsToShow)\n    return (\n\n        <div>\n            <ul>\n                {personsToShow.map(person =>\n                    <p key={person.name}>\n                        {person.name} {person.number} <button onClick={() => personsToDelete(person)}>delete</button>\n                    </p>\n\n                )}\n\n            </ul>\n\n        </div>\n    )\n}\nexport default Persons","import React from 'react'\nconst PersonForm = ({ addPerson, handleAddName, handleAddNumber, newName, newNumber }) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                Name: \n                <input \n                value={newName} \n                onChange={handleAddName} />\n            </div>\n            <div>\n                Number: <input \n                value={newNumber} \n                onChange={handleAddNumber} />\n            </div>\n            <div>\n                <button type=\"submit\"> Add </button>\n            </div>\n        </form>\n    )\n}\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = ({ handleFilter }) => {\n    return (\n\n        <div>\n            filter shown with: <input onChange={handleFilter} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n}","\nimport React from 'react'\nconst Notification = ({message}) => {\n\n    if (message === null) {\n        return null\n    }\n\n\n    const notificationStyle = {\n        color: \"red\",\n        background: \"lightgrey\",\n        fontSize: \"20px\",\n        borderStyle: \"solid\",\n        borderRadius: \"5px\",\n        padding: \"10px\",\n        marginBottom: \"10px\"\n    }\n\n\n\n\n\n\n\n\n\n    return (\n        <div style = {notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from \"./components/Filter\"\nimport personService from './services/persons'\nimport { useState, useEffect } from 'react'\nimport React from 'react'\nimport Notification from './components/Notfication'\nimport Error from './components/Notfication'\n\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([\n\n    ])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState(\"\")\n    const [newFilter, setNewFilter] = useState('')\n    const [error, setError] = useState(null)\n    const [notification, setNotification] = useState(null)\n\n    useEffect(() => {\n        console.log('effect')\n        personService\n            .getAll()\n            .then(initialPersons =>\n                setPersons(initialPersons))\n    }, [])\n\n\n    const handleAddName = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleAddNumber = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilter = (event) => {\n        setNewFilter(event.target.value)\n    }\n    const personsToShow = newFilter === ''\n        ? persons\n        : persons.filter(person => person['name'].toLowerCase().includes(newFilter.toLowerCase()))\n\n\n    const addPerson = (event) => {\n        event.preventDefault()\n\n\n\n        const personObject = {\n\n            name: newName,\n            number: newNumber\n        }\n\n\n        const val = persons.map(person => person.name)\n        if (val.includes(personObject.name)) {\n            if (window.confirm(`${personObject.name} is already added to the phonebook, replace the old number with new one?`)) {\n                const user = persons.find(person => person.name === person)\n                const changedUser = { ...user, number: personObject.number }\n                personService\n                    .update(user.id, changedUser)\n                    .then(returnedUser => {\n                        setPersons(persons.map(person => person.id === user.id ? returnedUser : person))\n\n                        setNotification(`Number for ${user.name} was updated`)\n                        setTimeout(() => {\n                            setNotification(null)\n                        }, 5000)\n                    })\n            }\n\n        } else {\n            personService\n                .create(personObject)\n                .then(person => {\n                    setPersons(persons.concat(person))\n                })\n        }\n        setNewName(\"\")\n        setNewNumber(\"\")\n\n        return;\n    }\n\n    const handleDelete = (personToDelete) => {\n        console.log('test', personToDelete)\n\n        if (window.confirm(`Delete ${personToDelete.name}?`)) {\n            personService\n                .remove(personToDelete.id)\n                .then(response => {\n                    setPersons(persons.filter(person => person.id !== personToDelete.id))\n\n                })\n                .catch(() => {\n                    setError(`Information of ${personToDelete.name} has already been removed from the server`)\n                    setTimeout(() => {\n                        setError(null)\n                    }, 5000)\n                })\n\n            setPersons(persons.filter(person => person.id !== personToDelete))\n        }\n\n    }\n\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Filter handleFilter={handleFilter} />\n            <Error message={error} />\n            <Notification message={notification} />\n\n            <h2>Add a new</h2>\n\n            <PersonForm addPerson={addPerson} handleAddName={handleAddName} handleAddNumber={handleAddNumber} newName={newName} newNumber={newNumber} />\n\n\n            <h3>Numbers</h3>\n            <Persons personsToShow={personsToShow} personsToDelete={handleDelete} filter={newFilter} />\n\n        </div>\n    )\n\n}\n\nexport default App","import ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport React from 'react'\nimport axios from 'axios'\n\naxios.get('http://localhost:3001/persons')\n  .then(response => {\n    const persons = response.data\n    ReactDOM.createRoot(document.getElementById('root')).render(<App persons={persons} />)\n  })"],"sourceRoot":""}